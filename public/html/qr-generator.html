<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" onload="initQRGenerator()" onerror="handleQRCodeError()"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        #qr-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        .qr-item {
            text-align: center;
        }
        .qr-scan-text {
            width: 200px;
            text-align: center;
            font-weight: bold;
            font-size: 70px;
            color: white;
        }
        .qr-item > div:first-child {
            border-radius: 20px;
            padding: 20px;
            padding-top: 7px;
            background: black;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .qr-canvas-wrapper {
            position: relative;
            width: 200px;
            height: 200px;
        }
        .qr-code-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: black;
            padding: 8px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .qr-code-overlay-text {
            color: white;
            font-weight: bold;
            font-size: 16px;
        }
        .qr-bottom-text {
            width: 200px;
            text-align: center;
            font-weight: bold;
            font-size: 35px;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }
        .qr-bottom-text .gradient-text {
            display: inline-block;
        }
        .qr-bottom-text .gradient-text.gradient-1 {
            background: linear-gradient(to right, #FEDC7C, #E64102);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .qr-bottom-text .gradient-text.gradient-2 {
            background: linear-gradient(to right, #FFD55C, #FFB700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .qr-bottom-text .gradient-text.gradient-3 {
            background: linear-gradient(to right, #DFA2ED, #A741BB);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .qr-bottom-text .gradient-text.gradient-4 {
            background: linear-gradient(to right, #00D0FF, #308CFF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 32px;
            font-weight: 800;
        }
        .qr-bottom-text .emoji {
            display: inline-block;
            color: white;
            font-size: 30px;
        }
        .qr-link {
            margin-top: 10px;
            font-size: 12px;
            color: #666;
            word-break: break-all;
        }
        .download-pdf-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            margin-bottom: 20px;
            font-weight: 500;
        }
        .download-pdf-btn:hover {
            background: #218838;
        }
    </style>
</head>
<body>
    <h1>QR Code Generator</h1>
    <button class="download-pdf-btn" onclick="downloadPDF()">Download PDF</button>
    <div id="qr-container"></div>

    <script>
        // Add your links here
        const links = [
            'https://battery.cuub.tech/A001',
            'https://battery.cuub.tech/A002',
            'https://battery.cuub.tech/A003',
            'https://battery.cuub.tech/A004',
            'https://battery.cuub.tech/A005',
            'https://battery.cuub.tech/A006',
            'https://battery.cuub.tech/A007',
            'https://battery.cuub.tech/A008',
            'https://battery.cuub.tech/A009',
            'https://battery.cuub.tech/A010',
            'https://battery.cuub.tech/A011',
            'https://battery.cuub.tech/A012',
            'https://battery.cuub.tech/A013',
            'https://battery.cuub.tech/A014',
            'https://battery.cuub.tech/A015',
            'https://battery.cuub.tech/A016',
            'https://battery.cuub.tech/A017',
            'https://battery.cuub.tech/A018',
            'https://battery.cuub.tech/A019',
            'https://battery.cuub.tech/A020',
            'https://battery.cuub.tech/A021',
            'https://battery.cuub.tech/A022',
            'https://battery.cuub.tech/A023',
            'https://battery.cuub.tech/A024',
            'https://battery.cuub.tech/A025',
            'https://battery.cuub.tech/A026',
            'https://battery.cuub.tech/A027',
            'https://battery.cuub.tech/A028',
            'https://battery.cuub.tech/A029',
            'https://battery.cuub.tech/A030',
            'https://battery.cuub.tech/A031',
            'https://battery.cuub.tech/A032',
            'https://battery.cuub.tech/A033',
            'https://battery.cuub.tech/A034',
            'https://battery.cuub.tech/A035',
            'https://battery.cuub.tech/A036',
            'https://battery.cuub.tech/A037',
            'https://battery.cuub.tech/A038',
            'https://battery.cuub.tech/A039',
            'https://battery.cuub.tech/A040',
            'https://battery.cuub.tech/A041',
            'https://battery.cuub.tech/A042',
            'https://battery.cuub.tech/A043',
            'https://battery.cuub.tech/A044',
            'https://battery.cuub.tech/A045',
            'https://battery.cuub.tech/A046',
            'https://battery.cuub.tech/A047',
            'https://battery.cuub.tech/A048',
            'https://battery.cuub.tech/A049',
            'https://battery.cuub.tech/A050',
            'https://battery.cuub.tech/A051',
            'https://battery.cuub.tech/A052',
            'https://battery.cuub.tech/A053',
            'https://battery.cuub.tech/A054',
            'https://battery.cuub.tech/A055',
            'https://battery.cuub.tech/A056',
            'https://battery.cuub.tech/A057',
            'https://battery.cuub.tech/A058',
            'https://battery.cuub.tech/A059',
            'https://battery.cuub.tech/A060',
            'https://battery.cuub.tech/A061',
            'https://battery.cuub.tech/A062',
            'https://battery.cuub.tech/A063',
            'https://battery.cuub.tech/A064',
            'https://battery.cuub.tech/A065',
            'https://battery.cuub.tech/A066',
            'https://battery.cuub.tech/A067',
            'https://battery.cuub.tech/A068',
            'https://battery.cuub.tech/A069',
            'https://battery.cuub.tech/A070',
            'https://battery.cuub.tech/A071',
            'https://battery.cuub.tech/A072',
            'https://battery.cuub.tech/A073',
            'https://battery.cuub.tech/A074',
            'https://battery.cuub.tech/A075',
            'https://battery.cuub.tech/A076',
            'https://battery.cuub.tech/A077',
            'https://battery.cuub.tech/A078',
            'https://battery.cuub.tech/A079',
            'https://battery.cuub.tech/A080',
            'https://battery.cuub.tech/A081',
            'https://battery.cuub.tech/A082',
            'https://battery.cuub.tech/A083',
            'https://battery.cuub.tech/A084',
            'https://battery.cuub.tech/A085',
            'https://battery.cuub.tech/A086',
            'https://battery.cuub.tech/A087',
            'https://battery.cuub.tech/A088',
            'https://battery.cuub.tech/A089',
            'https://battery.cuub.tech/A090',
            'https://battery.cuub.tech/A091',
            'https://battery.cuub.tech/A092',
            'https://battery.cuub.tech/A093',
            'https://battery.cuub.tech/A094',
            'https://battery.cuub.tech/A095',
            'https://battery.cuub.tech/A096',
            'https://battery.cuub.tech/A097',
            'https://battery.cuub.tech/A098',
            'https://battery.cuub.tech/A099',
            'https://battery.cuub.tech/A100',
            'https://battery.cuub.tech/A101',
            'https://battery.cuub.tech/A102',
            'https://battery.cuub.tech/A103',
            'https://battery.cuub.tech/A104',
            'https://battery.cuub.tech/A105',
            'https://battery.cuub.tech/A106',
            'https://battery.cuub.tech/A107',
            'https://battery.cuub.tech/A108',
            'https://battery.cuub.tech/A109',
            'https://battery.cuub.tech/A110',
            'https://battery.cuub.tech/A111',
            'https://battery.cuub.tech/A112',
            'https://battery.cuub.tech/A113',
            'https://battery.cuub.tech/A114',
            'https://battery.cuub.tech/A115',
            'https://battery.cuub.tech/A116',
            'https://battery.cuub.tech/A117',
            'https://battery.cuub.tech/A118',
            'https://battery.cuub.tech/A119',
            'https://battery.cuub.tech/A120',
            'https://battery.cuub.tech/A121',
            'https://battery.cuub.tech/A122',
            'https://battery.cuub.tech/A123',
            'https://battery.cuub.tech/A124',
            'https://battery.cuub.tech/A125',
            'https://battery.cuub.tech/A126',
            'https://battery.cuub.tech/A127',
            'https://battery.cuub.tech/A128',
            'https://battery.cuub.tech/A129',
            'https://battery.cuub.tech/A130',
            'https://battery.cuub.tech/A131',
            'https://battery.cuub.tech/A132',
            'https://battery.cuub.tech/A133',
            'https://battery.cuub.tech/A134',
            'https://battery.cuub.tech/A135',
            'https://battery.cuub.tech/A136',
            'https://battery.cuub.tech/A137',
            'https://battery.cuub.tech/A138',
            'https://battery.cuub.tech/A139',
            'https://battery.cuub.tech/A140',
            'https://battery.cuub.tech/A141',
            'https://battery.cuub.tech/A142',
            'https://battery.cuub.tech/A143',
            'https://battery.cuub.tech/A144',
            'https://battery.cuub.tech/A145',
            'https://battery.cuub.tech/A146',
            'https://battery.cuub.tech/A147',
            'https://battery.cuub.tech/A148',
            'https://battery.cuub.tech/A149',
            'https://battery.cuub.tech/A150',
            'https://battery.cuub.tech/A151',
            'https://battery.cuub.tech/A152',
            'https://battery.cuub.tech/A153',
            'https://battery.cuub.tech/A154',
            'https://battery.cuub.tech/A155',
            'https://battery.cuub.tech/A156',
            'https://battery.cuub.tech/A157',
            'https://battery.cuub.tech/A158',
            'https://battery.cuub.tech/A159',
            'https://battery.cuub.tech/A160',
            'https://battery.cuub.tech/A161',
            'https://battery.cuub.tech/A162',
            'https://battery.cuub.tech/A163',
            'https://battery.cuub.tech/A164',
            'https://battery.cuub.tech/A165',
            'https://battery.cuub.tech/A166',
            'https://battery.cuub.tech/A167',
            'https://battery.cuub.tech/A168',
            'https://battery.cuub.tech/A169',
            'https://battery.cuub.tech/A170',
            'https://battery.cuub.tech/A171',
            'https://battery.cuub.tech/A172',
            'https://battery.cuub.tech/A173',
            'https://battery.cuub.tech/A174',
            'https://battery.cuub.tech/A175',
            'https://battery.cuub.tech/A176',
            'https://battery.cuub.tech/A177',
            'https://battery.cuub.tech/A178',
            'https://battery.cuub.tech/A179',
            'https://battery.cuub.tech/A180',
            'https://battery.cuub.tech/A181',
            'https://battery.cuub.tech/A182',
            'https://battery.cuub.tech/A183',
            'https://battery.cuub.tech/A184',
            'https://battery.cuub.tech/A185',
            'https://battery.cuub.tech/A186',
            'https://battery.cuub.tech/A187',
            'https://battery.cuub.tech/A188',
            'https://battery.cuub.tech/A189',
            'https://battery.cuub.tech/A190',
            'https://battery.cuub.tech/A191',
            'https://battery.cuub.tech/A192',
            'https://battery.cuub.tech/A193',
            'https://battery.cuub.tech/A194',
            'https://battery.cuub.tech/A195',
            'https://battery.cuub.tech/A196',
            'https://battery.cuub.tech/A197',
            'https://battery.cuub.tech/A198',
            'https://battery.cuub.tech/A199',
            'https://battery.cuub.tech/A200',
            'https://battery.cuub.tech/A201',
            'https://battery.cuub.tech/A202',
            'https://battery.cuub.tech/A203',
            'https://battery.cuub.tech/A204',
            'https://battery.cuub.tech/A205',
            'https://battery.cuub.tech/A206',
            'https://battery.cuub.tech/A207',
            'https://battery.cuub.tech/A208',
            'https://battery.cuub.tech/A209',
            'https://battery.cuub.tech/A210',
            'https://battery.cuub.tech/A211',
            'https://battery.cuub.tech/A212',
            'https://battery.cuub.tech/A213',
            'https://battery.cuub.tech/A214',
            'https://battery.cuub.tech/A215',
            'https://battery.cuub.tech/A216',
            'https://battery.cuub.tech/A217',
            'https://battery.cuub.tech/A218',
            'https://battery.cuub.tech/A219',
            'https://battery.cuub.tech/A220',
            'https://battery.cuub.tech/A221',
            'https://battery.cuub.tech/A222',
            'https://battery.cuub.tech/A223',
            'https://battery.cuub.tech/A224',
            'https://battery.cuub.tech/A225',
            'https://battery.cuub.tech/A226',
            'https://battery.cuub.tech/A227',
            'https://battery.cuub.tech/A228',
            'https://battery.cuub.tech/A229',
            'https://battery.cuub.tech/A230',
            'https://battery.cuub.tech/A231',
            'https://battery.cuub.tech/A232',
            'https://battery.cuub.tech/A233',
            'https://battery.cuub.tech/A234',
            'https://battery.cuub.tech/A235',
            'https://battery.cuub.tech/A236',
            'https://battery.cuub.tech/A237',
            'https://battery.cuub.tech/A238',
            'https://battery.cuub.tech/A239',
            'https://battery.cuub.tech/A240',
            'https://battery.cuub.tech/A241',
            'https://battery.cuub.tech/A242',
            'https://battery.cuub.tech/A243',
            'https://battery.cuub.tech/A244',
            'https://battery.cuub.tech/A245',
            'https://battery.cuub.tech/A246',
            'https://battery.cuub.tech/A247',
            'https://battery.cuub.tech/A248',
            'https://battery.cuub.tech/A249',
            'https://battery.cuub.tech/A250',
            'https://battery.cuub.tech/A251',
            'https://battery.cuub.tech/A252',
            'https://battery.cuub.tech/A253',
            'https://battery.cuub.tech/A254',
            'https://battery.cuub.tech/A255',
            'https://battery.cuub.tech/A256',
            'https://battery.cuub.tech/A257',
            'https://battery.cuub.tech/A258',
            'https://battery.cuub.tech/A259',
            'https://battery.cuub.tech/A260',
            'https://battery.cuub.tech/A261',
            'https://battery.cuub.tech/A262',
            'https://battery.cuub.tech/A263',
            'https://battery.cuub.tech/A264',
            'https://battery.cuub.tech/A265',
            'https://battery.cuub.tech/A266',
            'https://battery.cuub.tech/A267',
            'https://battery.cuub.tech/A268',
            'https://battery.cuub.tech/A269',
            'https://battery.cuub.tech/A270',
            'https://battery.cuub.tech/A271',
            'https://battery.cuub.tech/A272',
            'https://battery.cuub.tech/A273',
            'https://battery.cuub.tech/A274',
            'https://battery.cuub.tech/A275',
            'https://battery.cuub.tech/A276',
            'https://battery.cuub.tech/A277',
            'https://battery.cuub.tech/A278',
            'https://battery.cuub.tech/A279',
            'https://battery.cuub.tech/A280',
            'https://battery.cuub.tech/A281',
            'https://battery.cuub.tech/A282',
            'https://battery.cuub.tech/A283',
            'https://battery.cuub.tech/A284',
            'https://battery.cuub.tech/A285',
            'https://battery.cuub.tech/A286',
            'https://battery.cuub.tech/A287',
            'https://battery.cuub.tech/A288',
            'https://battery.cuub.tech/A289',
            'https://battery.cuub.tech/A290',
            'https://battery.cuub.tech/A291',
            'https://battery.cuub.tech/A292',
            'https://battery.cuub.tech/A293',
            'https://battery.cuub.tech/A294',
            'https://battery.cuub.tech/A295',
            'https://battery.cuub.tech/A296',
            'https://battery.cuub.tech/A297',
            'https://battery.cuub.tech/A298',
            'https://battery.cuub.tech/A299',
            'https://battery.cuub.tech/A300',
            'https://battery.cuub.tech/A301',
            'https://battery.cuub.tech/A302',
            'https://battery.cuub.tech/A303',
            'https://battery.cuub.tech/A304',
            'https://battery.cuub.tech/A305',
            'https://battery.cuub.tech/A306',
            'https://battery.cuub.tech/A307',
            'https://battery.cuub.tech/A308',
            'https://battery.cuub.tech/A309',
            'https://battery.cuub.tech/A310',
            'https://battery.cuub.tech/A311',
            'https://battery.cuub.tech/A312',
            'https://battery.cuub.tech/A313',
            'https://battery.cuub.tech/A314',
            'https://battery.cuub.tech/A315',
            'https://battery.cuub.tech/A316',
            'https://battery.cuub.tech/A317',
            'https://battery.cuub.tech/A318',
            'https://battery.cuub.tech/A319',
            'https://battery.cuub.tech/A320',
            'https://battery.cuub.tech/A321',
            'https://battery.cuub.tech/A322',
            'https://battery.cuub.tech/A323',
            'https://battery.cuub.tech/A324',
            'https://battery.cuub.tech/A325',
            'https://battery.cuub.tech/A326',
            'https://battery.cuub.tech/A327',
            'https://battery.cuub.tech/A328',
            'https://battery.cuub.tech/A329',
            'https://battery.cuub.tech/A330',
            'https://battery.cuub.tech/A331',
            'https://battery.cuub.tech/A332',
            'https://battery.cuub.tech/A333',
            'https://battery.cuub.tech/A334',
            'https://battery.cuub.tech/A335',
            'https://battery.cuub.tech/A336',
            'https://battery.cuub.tech/A337',
            'https://battery.cuub.tech/A338',
            'https://battery.cuub.tech/A339',
            'https://battery.cuub.tech/A340',
            'https://battery.cuub.tech/A341',
            'https://battery.cuub.tech/A342',
            'https://battery.cuub.tech/A343',
            'https://battery.cuub.tech/A344',
            'https://battery.cuub.tech/A345',
            'https://battery.cuub.tech/A346',
            'https://battery.cuub.tech/A347',
            'https://battery.cuub.tech/A348',
            'https://battery.cuub.tech/A349',
            'https://battery.cuub.tech/A350',
            'https://battery.cuub.tech/A351',
            'https://battery.cuub.tech/A352',
            'https://battery.cuub.tech/A353',
            'https://battery.cuub.tech/A354',
            'https://battery.cuub.tech/A355',
            'https://battery.cuub.tech/A356',
            'https://battery.cuub.tech/A357',
            'https://battery.cuub.tech/A358',
            'https://battery.cuub.tech/A359',
            'https://battery.cuub.tech/A360',
            'https://battery.cuub.tech/A361',
            'https://battery.cuub.tech/A362',
            'https://battery.cuub.tech/A363',
            'https://battery.cuub.tech/A364',
            'https://battery.cuub.tech/A365',
            'https://battery.cuub.tech/A366',
            'https://battery.cuub.tech/A367',
            'https://battery.cuub.tech/A368',
            'https://battery.cuub.tech/A369',
            'https://battery.cuub.tech/A370',
            'https://battery.cuub.tech/A371',
            'https://battery.cuub.tech/A372',
            'https://battery.cuub.tech/A373',
            'https://battery.cuub.tech/A374',
            'https://battery.cuub.tech/A375',
            'https://battery.cuub.tech/A376',
            'https://battery.cuub.tech/A377',
            'https://battery.cuub.tech/A378',
            'https://battery.cuub.tech/A379',
            'https://battery.cuub.tech/A380',
            'https://battery.cuub.tech/A381',
            'https://battery.cuub.tech/A382',
            'https://battery.cuub.tech/A383',
            'https://battery.cuub.tech/A384',
            'https://battery.cuub.tech/A385',
            'https://battery.cuub.tech/A386',
            'https://battery.cuub.tech/A387',
            'https://battery.cuub.tech/A388',
            'https://battery.cuub.tech/A389',
            'https://battery.cuub.tech/A390',
            'https://battery.cuub.tech/A391',
            'https://battery.cuub.tech/A392',
            'https://battery.cuub.tech/A393',
            'https://battery.cuub.tech/A394',
            'https://battery.cuub.tech/A395',
            'https://battery.cuub.tech/A396',
            'https://battery.cuub.tech/A397',
            'https://battery.cuub.tech/A398',
            'https://battery.cuub.tech/A399',
            'https://battery.cuub.tech/A400',
            'https://battery.cuub.tech/A401',
            'https://battery.cuub.tech/A402',
            'https://battery.cuub.tech/A403',
            'https://battery.cuub.tech/A404',
            'https://battery.cuub.tech/A405',
            'https://battery.cuub.tech/A406',
            'https://battery.cuub.tech/A407',
            'https://battery.cuub.tech/A408',
            'https://battery.cuub.tech/A409',
            'https://battery.cuub.tech/A410',
            'https://battery.cuub.tech/A411',
            'https://battery.cuub.tech/A412',
            'https://battery.cuub.tech/A413',
            'https://battery.cuub.tech/A414',
            'https://battery.cuub.tech/A415',
            'https://battery.cuub.tech/A416',
            'https://battery.cuub.tech/A417',
            'https://battery.cuub.tech/A418',
            'https://battery.cuub.tech/A419',
            'https://battery.cuub.tech/A420',
            'https://battery.cuub.tech/A421',
            'https://battery.cuub.tech/A422',
            'https://battery.cuub.tech/A423',
            'https://battery.cuub.tech/A424',
            'https://battery.cuub.tech/A425',
            'https://battery.cuub.tech/A426',
            'https://battery.cuub.tech/A427',
            'https://battery.cuub.tech/A428',
            'https://battery.cuub.tech/A429',
            'https://battery.cuub.tech/A430',
            'https://battery.cuub.tech/A431',
            'https://battery.cuub.tech/A432',
            'https://battery.cuub.tech/A433',
            'https://battery.cuub.tech/A434',
            'https://battery.cuub.tech/A435',
            'https://battery.cuub.tech/A436',
            'https://battery.cuub.tech/A437',
            'https://battery.cuub.tech/A438',
            'https://battery.cuub.tech/A439',
            'https://battery.cuub.tech/A440',
            'https://battery.cuub.tech/A441',
            'https://battery.cuub.tech/A442',
            'https://battery.cuub.tech/A443',
            'https://battery.cuub.tech/A444',
            'https://battery.cuub.tech/A445',
            'https://battery.cuub.tech/A446',
            'https://battery.cuub.tech/A447',
            'https://battery.cuub.tech/A448',
            'https://battery.cuub.tech/A449',
            'https://battery.cuub.tech/A450',
            'https://battery.cuub.tech/A451',
            'https://battery.cuub.tech/A452',
            'https://battery.cuub.tech/A453',
            'https://battery.cuub.tech/A454',
            'https://battery.cuub.tech/A455',
            'https://battery.cuub.tech/A456',
            'https://battery.cuub.tech/A457',
            'https://battery.cuub.tech/A458',
            'https://battery.cuub.tech/A459',
            'https://battery.cuub.tech/A460',
            'https://battery.cuub.tech/A461',
            'https://battery.cuub.tech/A462',
            'https://battery.cuub.tech/A463',
            'https://battery.cuub.tech/A464',
            'https://battery.cuub.tech/A465',
            'https://battery.cuub.tech/A466',
            'https://battery.cuub.tech/A467',
            'https://battery.cuub.tech/A468',
            'https://battery.cuub.tech/A469',
            'https://battery.cuub.tech/A470',
            'https://battery.cuub.tech/A471',
            'https://battery.cuub.tech/A472',
            'https://battery.cuub.tech/A473',
            'https://battery.cuub.tech/A474',
            'https://battery.cuub.tech/A475',
            'https://battery.cuub.tech/A476',
            'https://battery.cuub.tech/A477',
            'https://battery.cuub.tech/A478',
            'https://battery.cuub.tech/A479',
            'https://battery.cuub.tech/A480',
            'https://battery.cuub.tech/A481',
            'https://battery.cuub.tech/A482',
            'https://battery.cuub.tech/A483',
            'https://battery.cuub.tech/A484',
            'https://battery.cuub.tech/A485',
            'https://battery.cuub.tech/A486',
            'https://battery.cuub.tech/A487',
            'https://battery.cuub.tech/A488',
            'https://battery.cuub.tech/A489',
            'https://battery.cuub.tech/A490',
            'https://battery.cuub.tech/A491',
            'https://battery.cuub.tech/A492',
            'https://battery.cuub.tech/A493',
            'https://battery.cuub.tech/A494',
            'https://battery.cuub.tech/A495',
            'https://battery.cuub.tech/A496',
            'https://battery.cuub.tech/A497',
            'https://battery.cuub.tech/A498',
            'https://battery.cuub.tech/A499',
            'https://battery.cuub.tech/A500',
            'https://battery.cuub.tech/A501',
            'https://battery.cuub.tech/A502',
            'https://battery.cuub.tech/A503',
            'https://battery.cuub.tech/A504',
            'https://battery.cuub.tech/A505',
            'https://battery.cuub.tech/A506',
            'https://battery.cuub.tech/A507',
            'https://battery.cuub.tech/A508',
            'https://battery.cuub.tech/A509',
            'https://battery.cuub.tech/A510',
            'https://battery.cuub.tech/A511',
            'https://battery.cuub.tech/A512',
            'https://battery.cuub.tech/A513',
            'https://battery.cuub.tech/A514',
            'https://battery.cuub.tech/A515',
            'https://battery.cuub.tech/A516',
            'https://battery.cuub.tech/A517',
            'https://battery.cuub.tech/A518',
            'https://battery.cuub.tech/A519',
            'https://battery.cuub.tech/A520',
            'https://battery.cuub.tech/A521',
            'https://battery.cuub.tech/A522',
            'https://battery.cuub.tech/A523',
            'https://battery.cuub.tech/A524',
            'https://battery.cuub.tech/A525',
            'https://battery.cuub.tech/A526',
            'https://battery.cuub.tech/A527',
            'https://battery.cuub.tech/A528',
            'https://battery.cuub.tech/A529',
            'https://battery.cuub.tech/A530',
        ];

        function handleQRCodeError() {
            document.getElementById('qr-container').innerHTML = '<p style="color: red;">Error: Failed to load QRCode library. Please check your internet connection.</p>';
        }

        function initQRGenerator() {
            // Wait a bit to ensure QRCode is fully available
            setTimeout(function() {
                if (typeof QRCode === 'undefined') {
                    document.getElementById('qr-container').innerHTML = '<p style="color: red;">Error: QRCode library not available.</p>';
                    return;
                }

                const container = document.getElementById('qr-container');
                container.innerHTML = '';

                // Variations for each column (text and emoji separated)
                const columnVariations = [
                    { text: 'OR ELSE', emoji: 'üò°' },  // Column 1
                    { text: 'PLEASE', emoji: 'üôè' },   // Column 2
                    { text: 'OR ELSE', emoji: 'üòà' },  // Column 3
                    { text: 'TO SEE MAP', emoji: '' }   // Column 4
                ];

                links.forEach((link, index) => {
                    const item = document.createElement('div');
                    item.className = 'qr-item';
                    
                    // Extract 4-digit code from link (e.g., "A001" from "https://battery.cuub.tech/A001")
                    const code = link.split('/').pop();
                    
                    // Determine which column this QR code is in (0-3)
                    const columnIndex = index % 4;
                    
                    const qrDiv = document.createElement('div');
                    qrDiv.style.width = '200px';
                    qrDiv.style.margin = '0 auto';
                    
                    const scanText = document.createElement('div');
                    scanText.className = 'qr-scan-text';
                    scanText.textContent = 'SCAN';
                    
                    const qrCanvasWrapper = document.createElement('div');
                    qrCanvasWrapper.className = 'qr-canvas-wrapper';
                    
                    const qrCanvas = document.createElement('div');
                    qrCanvas.style.width = '200px';
                    qrCanvas.style.height = '200px';
                    
                    const overlay = document.createElement('div');
                    overlay.className = 'qr-code-overlay';
                    const overlayText = document.createElement('div');
                    overlayText.className = 'qr-code-overlay-text';
                    overlayText.textContent = code;
                    overlay.appendChild(overlayText);
                    
                    qrCanvasWrapper.appendChild(qrCanvas);
                    qrCanvasWrapper.appendChild(overlay);
                    
                    // Add bottom text with column-specific variation and gradient
                    const bottomText = document.createElement('div');
                    bottomText.className = 'qr-bottom-text';
                    
                    const variation = columnVariations[columnIndex];
                    
                    // Create text span with gradient
                    const textSpan = document.createElement('span');
                    textSpan.className = 'gradient-text';
                    
                    // Apply gradient class based on column
                    if (columnIndex === 0) {
                        // Column 1: OR ELSE üò° - gradient from #FEDC7C to #E64102
                        textSpan.classList.add('gradient-1');
                    } else if (columnIndex === 1) {
                        // Column 2: PLEASE üôè - gradient from #FFD55C to #FFB700
                        textSpan.classList.add('gradient-2');
                    } else if (columnIndex === 2) {
                        // Column 3: OR ELSE üòà - gradient from #DFA2ED to #A741BB
                        textSpan.classList.add('gradient-3');
                    } else if (columnIndex === 3) {
                        // Column 4: TO SEE MAP - gradient from #00D0FF to #0072FF
                        textSpan.classList.add('gradient-4');
                    }
                    
                    textSpan.textContent = variation.text;
                    
                    // Append text to bottomText
                    bottomText.appendChild(textSpan);
                    
                    // Only append emoji if it exists
                    if (variation.emoji) {
                        const emojiSpan = document.createElement('span');
                        emojiSpan.className = 'emoji';
                        emojiSpan.textContent = variation.emoji;
                        bottomText.appendChild(emojiSpan);
                    }
                    
                    qrDiv.appendChild(scanText);
                    qrDiv.appendChild(qrCanvasWrapper);
                    qrDiv.appendChild(bottomText);
                    item.appendChild(qrDiv);
                    container.appendChild(item);

                    try {
                        new QRCode(qrCanvas, {
                            text: link,
                            width: 200,
                            height: 200,
                            colorDark: '#FFFFFF',
                            colorLight: '#000000',
                            correctLevel: QRCode.CorrectLevel.H
                        });
                    } catch (error) {
                        console.error('Error generating QR code:', error);
                        qrCanvas.innerHTML = '<p style="color: red;">Error generating QR code</p>';
                    }
                });
            }, 50);
        }

        // Fallback: if script loaded before this code runs
        if (typeof QRCode !== 'undefined') {
            initQRGenerator();
        }

        // PDF Download Function
        async function downloadPDF() {
            console.log('Starting PDF download...');
            
            // Show loading indicator
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = 'Generating PDF...';
            btn.disabled = true;
            
            // Wait for libraries to load
            let attempts = 0;
            while ((typeof window.jspdf === 'undefined' || typeof html2canvas === 'undefined') && attempts < 50) {
                await new Promise(resolve => setTimeout(resolve, 100));
                attempts++;
            }

            if (typeof window.jspdf === 'undefined') {
                console.error('jsPDF library not loaded');
                alert('jsPDF library not loaded. Please refresh the page and try again.');
                btn.textContent = originalText;
                btn.disabled = false;
                return;
            }

            if (typeof html2canvas === 'undefined') {
                console.error('html2canvas library not loaded');
                alert('html2canvas library not loaded. Please refresh the page and try again.');
                btn.textContent = originalText;
                btn.disabled = false;
                return;
            }

            try {
                const { jsPDF } = window.jspdf;
                console.log('jsPDF loaded, creating PDF...');
                
                const pdf = new jsPDF({
                    orientation: 'portrait',
                    unit: 'in',
                    format: 'letter' // 8.5 x 11 inches
                });

                const pageWidth = 8.5;
                const pageHeight = 11;
                const qrCodesPerPage = 16; // 4x4 grid
                const qrCodesPerRow = 4;
                const margin = 0.5; // inch margin on all sides
                const usableWidth = pageWidth - (margin * 2); // 7.5 inches
                const usableHeight = pageHeight - (margin * 2); // 10 inches
                const qrSize = 1.5; // inches per QR code
                const spacingX = (usableWidth - (qrCodesPerRow * qrSize)) / (qrCodesPerRow - 1);
                const spacingY = (usableHeight - (qrCodesPerRow * qrSize)) / (qrCodesPerRow - 1);

                const qrItems = document.querySelectorAll('.qr-item');
                const totalQRCodes = qrItems.length;
                const totalPages = Math.ceil(totalQRCodes / qrCodesPerPage);

                console.log(`Found ${totalQRCodes} QR codes, generating ${totalPages} page(s)...`);

                // Capture all QR codes directly from the page as they are rendered
                const capturePromises = [];

                for (let i = 0; i < totalQRCodes; i++) {
                    const qrItem = qrItems[i];
                    const qrDiv = qrItem.querySelector('.qr-item > div:first-child');
                    
                    if (!qrDiv) {
                        capturePromises.push(Promise.resolve(null));
                        continue;
                    }

                    // Capture the actual rendered div with all its styles
                    capturePromises.push(
                        html2canvas(qrDiv, {
                            backgroundColor: '#000000', // Black background to match the div
                            scale: 3, // Higher scale for better quality
                            logging: false,
                            useCORS: true,
                            allowTaint: true,
                            windowWidth: qrDiv.offsetWidth,
                            windowHeight: qrDiv.offsetHeight,
                            x: 0,
                            y: 0,
                            width: qrDiv.offsetWidth,
                            height: qrDiv.offsetHeight
                        }).then(canvas => {
                            return canvas.toDataURL('image/png');
                        }).catch(error => {
                            console.error(`Error processing QR code ${i + 1}:`, error);
                            return null;
                        })
                    );
                }

                // Wait for all captures to complete
                console.log('Capturing all QR codes...');
                const capturedImages = await Promise.all(capturePromises);

                // Add images to PDF
                for (let page = 0; page < totalPages; page++) {
                    if (page > 0) {
                        pdf.addPage();
                    }

                    const startIndex = page * qrCodesPerPage;
                    const endIndex = Math.min(startIndex + qrCodesPerPage, totalQRCodes);

                    for (let i = startIndex; i < endIndex; i++) {
                        const imgData = capturedImages[i];
                        if (!imgData) continue;

                        // Calculate position in 4x4 grid
                        const indexInPage = i - startIndex;
                        const row = Math.floor(indexInPage / qrCodesPerRow);
                        const col = indexInPage % qrCodesPerRow;
                        
                        const x = margin + (col * (qrSize + spacingX));
                        const y = margin + (row * (qrSize + spacingY));

                        // Add image to PDF
                        pdf.addImage(imgData, 'PNG', x, y, qrSize, qrSize);
                    }
                }

                // Save PDF
                console.log('Saving PDF...');
                pdf.save('qr-codes.pdf');
                console.log('PDF download complete!');
                
                btn.textContent = originalText;
                btn.disabled = false;
            } catch (error) {
                console.error('Error generating PDF:', error);
                alert('Error generating PDF: ' + error.message);
                btn.textContent = originalText;
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>
